#include <kipr/wombat.h>
#include <time.h>

int Rmotor=0;
int Lmotor=1;
    // declare motors with variables 
int hf=50;
int hb=-50;
int ff = 55;
int fb = -50;
int straightt = 150;
int backingt = 500;
int turningt = 800;
int count = 0;
    // delcare functions
void forward();
void left();
void right();
void backward();

int main()
{
    shut_down_in(303.0);
    while(1==1)
    {
        forward();
        if(digital(1)==0)
        {
            forward();
        }  
        else
        {
            backward();
            right();
            backward();
            count = count + 1;
        }
        if(digital(0)==0)
        {
            forward();
        }
        else
        {
            backward();
            left();
            backward();
            count = count + 1;
        }
        if(count == 6)
        {
            backward();
            backward();
            backward();
            left();
            left();

            count= count*0;
        }
    }
    
    return 0;
}
void forward()
{    

    motor(Rmotor,ff);  //first number in brackets specify port second specifies power
    motor(Lmotor,54);
    msleep(straightt);
    ao();
}
void left()
{

    motor(Rmotor,hf);  //first number in brackets specify port second specifies power
    motor(Lmotor,hb);
    msleep(turningt);
    ao();
}
void right()
{

	motor(Rmotor,hb);
    motor(Lmotor,hf);
    msleep(turningt);
    ao();
}
void backward()
{

	motor(Rmotor, fb);
    motor(Lmotor,fb);
    msleep(backingt);
    ao();
}
